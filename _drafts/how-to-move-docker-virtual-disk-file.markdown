---
layout: post
title: 도커의 가상 하드디스크 파일(disk.vmdk) 옮기기
date: 2018-07-13 01:27:20 +0900
description: 도커의 가상 하드디스크 파일(disk.vmdk)를 D 드라이브로 옮기는 방법을 소개해보려 한다.
img: docker_logo.png
tags: [Docker, Tip]
author: # Add name author (optional)
---

{:toc}


부득이하게 C 드라이브 용량이 부족해 프로그램이나 파일들을 정리하던 중, 내 윈도우 계정 폴더에서 약 7GB의 엄청난 용량을 자랑하는 .docker 파일을 발견했다.

도커 프로그램 자체는 D 드라이브에 설치했지만, 각각의 컨테이너에 대한 이미지나 각종 정보들이 .dokcer 파일에 저장되는 듯했다. 이 중에서도 가상 하드디스크 파일인 disk.vmdk가 해당 용량의 대부분을 차지하고 있었다.

그리하여 이 거대한 파일을 넉넉한 공간인 D 드라이브에 옮길 수 있는 것인지 찾기 시작했고, 그 해답을 StackOverflow에서 찾을 수 있었다. StackOverflow에서 소개된 방법을 토대로, 도커의 가상 하드디스크 파일(disk.vmdk)를 D 드라이브(혹은 다른 넉넉한 공간)로 옮기는 방법을 조금 더 자세하게 소개해보려 한다.

도커의 가상 하드디스크 파일을 옮기는 방법은 크게 다음과 같다.

1. 작동중인 도커 컨테이너 중지하기

2. disk.vmdk를 적절한 공간에 복사하기
(원본 파일은 지우지 말 것)

3. 오라클 VM Virtual Box에서 컨테이너의 가상 하드디스크 해제 및 삭제하기

4. 옮긴 disk.vmdk 파일을 가상 하드디스크로 추가하기

5. 도커 컨테이너 작동 여부 확인하기

---
## **작동중인 도커 컨테이너 중지하기**

먼저 도커 컨테이너의 상태를 확인하여 실행중인지 확인한다.

아래 명령어는 실행중이거나 중지된 컨테이너 모두 조회할 수 있는 명령어다.

    $ docker ps -a

만약 도커 컨테이너가 실행중이라면 작동을 중지하도록 하자.

    $ docker stop <컨테이너 이름>

다시 위의 명령어를 통해 작동이 중지된 것인지 확인하고 다음 단계로 넘어간다.

---
## **disk.vmdk 파일을 적절한 공간에 복사하기**

---
## **컨테이너의 가상 하드디스크 해제 및 삭제하기**

---
## **옮긴 disk.vmdk 파일을 가상 하드디스크로 추가하기**

---
## **도커 컨테이너 작동 여부 확인하기**



![docker]({{site.baseurl}}/assets/img/docker_logo.png)
